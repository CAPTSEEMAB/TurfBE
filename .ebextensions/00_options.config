option_settings:
  # Environment Variables
  # NOTE: Sensitive credentials (SUPABASE_URL, SUPABASE_KEY, SUPABASE_SERVICE_ROLE_KEY, JWT_SECRET)
  # should be set via AWS Secrets Manager or Elastic Beanstalk console, NOT in version control
  aws:elasticbeanstalk:application:environment:
    NODE_ENV: production
    PORT: 8080

  # Instance Settings
  aws:autoscaling:launchconfiguration:
    InstanceType: t3.micro
    IamInstanceProfile: aws-elasticbeanstalk-ec2-role

  # Environment Type (SingleInstance for cost savings, LoadBalanced for production)
  aws:elasticbeanstalk:environment:
    EnvironmentType: SingleInstance

  # Health Check Settings
  aws:elasticbeanstalk:application:
    Application Healthcheck URL: /api/health

  # CloudWatch Logs
  aws:elasticbeanstalk:cloudwatch:logs:
    StreamLogs: true
    DeleteOnTerminate: false
    RetentionInDays: 7
